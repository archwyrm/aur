# Contributor: Markus Martin <markus@archwyrm.net>
pkgname=yaml-cpp
pkgver=0.2.6
pkgrel=1
pkgdesc="YAML parser and emitter in C++, written around the YAML 1.2 spec"
url="http://code.google.com/p/yaml-cpp/"
arch=('i686' 'x86_64')
license=('MIT')
source=(http://yaml-cpp.googlecode.com/files/$pkgname-$pkgver.tar.gz
compile-gcc46.patch)
md5sums=('ddfa5e8d409d9dafbeb6d190cd68dbcb'
         '924036c31bd8f0ca8900896c9df67f3e')

build() {
    cd $startdir/src/$pkgname

    patch -Np1 -i "${srcdir}/compile-gcc46.patch" || return 1
    cmake . -DCMAKE_INSTALL_PREFIX=/usr -DYAML_CPP_BUILD_TOOLS=0 || return 1
    make || return 1
    make DESTDIR=$startdir/pkg install || return 1
}
